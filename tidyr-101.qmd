---
title: "Tidyr 101"
author: "Fabrice Rossi"
format: html
---

```{r}
#| message: false
here::i_am("dm-course-git-101.Rproj")
library(here)
```

```{r}
#| message: false
library(ggplot2)
library(dplyr)
```


```{r}
data("EuStockMarkets")
```

## Displaying one time series

```{r}
ggplot(EuStockMarkets, aes(x=time(EuStockMarkets), y=DAX)) +
  geom_line()
```

```{r}
EuStockMarkets <- 
  EuStockMarkets |> 
    as_tibble() |>  ## could be as.data.frame
    mutate(date = as.numeric(time(EuStockMarkets)))
```


```{r}
ggplot(EuStockMarkets, aes(x=date, y=DAX)) +
  geom_line()
```
```{r}
ggplot(EuStockMarkets, aes(x=date, y=CAC)) +
  geom_line()
```

## Two indexes on the same graphical representation ?

### Poor man's solution

```{r}
ggplot(EuStockMarkets, aes(x=date, y=CAC)) +
  geom_line(colour = "steelblue") +
  geom_line(mapping=aes(y=DAX), colour = "salmon")
```
